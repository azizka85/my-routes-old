import{a as h,b as f,c as y}from"../../chunk-DURSSFQP.js";import{k as n}from"../../chunk-6UXFF2DH.js";import{a as u,b as p,c as m,d}from"../../chunk-KU6JJJUR.js";import{c}from"../../chunk-2W6XHV3X.js";var t=class{node=null;scrollTopBtn=null;currScroll=0;static get instance(){return t.page||(t.page=new t),t.page}get elem(){return this.node}async init(r,a){let e=await p(r,a,["main-layout"]);if(this.node=e.querySelector('[data-page="home-page"]')||null,this.node){let l=this.node.querySelectorAll(".mdc-button");for(let i of l){let s=new n(i);i.hasAttribute("href")&&s.listen("click",w=>u(w,s.root))}let o=this.node.querySelector(".mdc-fab");o&&(this.scrollTopBtn=new n(o),this.scrollTopBtn.listen("click",()=>{window.layouts["main-layout"]?.doAction?.(h,null)}))}return e}async mount(){await m(this.node)}async unmount(){await d(this.node)}async load(r,a,e){e&&window.layouts["main-layout"]?.listen?.(y,l=>{let o=l.detail;o.currScroll<=0?this.scrollTopBtn?.root.classList.add("mdc-fab--exited"):this.scrollTopBtn?.root.classList.remove("mdc-fab--exited"),this.currScroll=o.currScroll}),window.layouts["main-layout"]?.doAction?.(f,{top:this.currScroll,noSmooth:!0})}},g=t;c(g,"page",null);export{g as HomePage};
