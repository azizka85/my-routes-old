import{a as h,b as f,c as y}from"../../chunk-DURSSFQP.js";import{k as n}from"../../chunk-NO7LR6XB.js";import{c as s,d as u,e as p,f as m,g as d}from"../../chunk-SAEICZ7T.js";var t=class{node=null;scrollTopBtn=null;currScroll=0;static get instance(){return t.page||(t.page=new t),t.page}get elem(){return this.node}async init(r,l){let o=await p(r,l,["main-layout"]);if(this.node=o.querySelector('[data-page="home-page"]')||null,this.node){let e=this.node.querySelectorAll(".mdc-button");for(let i of e){let c=new n(i);i.hasAttribute("href")&&c.listen("click",g=>u(g,c.root))}let a=this.node.querySelector(".mdc-fab");a&&(this.scrollTopBtn=new n(a),this.scrollTopBtn.listen("click",()=>{window.layouts["main-layout"]?.doAction?.(h,null)}))}return o}async mount(){await m(this.node)}async unmount(){await d(this.node)}async load(r,l){l&&window.layouts["main-layout"]?.listen?.(y,o=>{let e=o.detail;e.currScroll<=0?this.scrollTopBtn?.root.classList.add("mdc-fab--exited"):this.scrollTopBtn?.root.classList.remove("mdc-fab--exited"),this.currScroll=e.currScroll}),window.layouts["main-layout"]?.doAction?.(f,{top:this.currScroll,noSmooth:!0})}},w=t;s(w,"page",null);export{w as HomePage};
