import{a as H,b as L}from"../../chunk-B3VKDLX4.js";import{d as c}from"../../chunk-VTHP63GR.js";import{k as o}from"../../chunk-SG6BWAK5.js";import{a as u,b as h,c as E,d as w}from"../../chunk-CVCDAUDG.js";import{c as p}from"../../chunk-WSRL3A7G.js";var i=class{node=null;titleElem=null;nameInputElem=null;nameLabelElem=null;nameHelperElem=null;emailHelperElem=null;passwordInputElem=null;passwordLabelElem=null;passwordHelperElem=null;signInBtn=null;signInBtnLabel=null;signUpBtnLabel=null;cancelBtn=null;cancelBtnLabel=null;authService=null;signInBtnClickHandler;cancelBtnClickHandler;formSubmitHandler;static get instance(){return i.page||(i.page=new i),i.page}constructor(){this.formSubmitHandler=e=>{e.preventDefault();let n=this.node?.querySelector(".main-card form"),l=new FormData(n);console.log("Form submited: ");for(let r of l.entries())console.log(r[0]+":",r[1])},this.signInBtnClickHandler=e=>u(e,this.signInBtn?.root),this.cancelBtnClickHandler=e=>u(e,this.cancelBtn?.root)}get elem(){return this.node}async init(e,n){let l=await h(e,n,[]);if(this.node=l.querySelector('[data-page="signup-page"]')||null,this.node){let r=this.node.querySelectorAll(".main-card__text-field");for(let d of r)d.classList.remove("mdc-text-field--no-label"),new H(d);let t=this.node.querySelector(".main-card form");this.titleElem=this.node.querySelector('[data-title="main"]')||null,this.nameInputElem=t?.querySelector('[name="name"]')||null,this.nameLabelElem=t?.querySelector("#name-label")||null,this.nameHelperElem=t?.querySelector("#name-helper")||null,this.emailHelperElem=t?.querySelector("#email-helper")||null,this.passwordInputElem=t?.querySelector('[name="password"]')||null,this.passwordLabelElem=t?.querySelector("#password-label")||null,this.passwordHelperElem=t?.querySelector("#password-helper")||null;let s=t?.querySelector('[data-button="sign-in"]')||null;s&&(this.signInBtn=new o(s),this.signInBtnLabel=s.querySelector(".mdc-button__label"));let a=t?.querySelector('[data-button="sign-up"]');a&&(new o(a),this.signUpBtnLabel=a.querySelector(".mdc-button__label"));let m=t?.querySelector('[data-button="cancel"]')||null;m&&(this.cancelBtn=new o(m),this.cancelBtnLabel=m.querySelector(".mdc-button__label"))}return this.authService=new L,await this.authService.init(this,n),l}async mount(){this.node?.querySelector(".main-card form")?.addEventListener("submit",this.formSubmitHandler),this.signInBtn?.listen("click",this.signInBtnClickHandler),this.cancelBtn?.listen("click",this.cancelBtnClickHandler),await Promise.all([this.authService?.mount(),E(this.node)])}async unmount(){this.node?.querySelector(".main-card form")?.removeEventListener("submit",this.formSubmitHandler),this.signInBtn?.unlisten("click",this.signInBtnClickHandler),this.cancelBtn?.unlisten("click",this.cancelBtnClickHandler),await Promise.all([w(this.node),this.authService?.unmount()])}async load(e,n,l){this.titleElem&&(this.titleElem.textContent=window.tr("Sign Up")),this.nameInputElem&&(this.nameInputElem.placeholder=window.tr("Name")),this.nameLabelElem&&(this.nameLabelElem.textContent=window.tr("Name")),this.nameHelperElem&&(this.nameHelperElem.textContent=window.tr("Name required")),this.emailHelperElem&&(this.emailHelperElem.textContent=window.tr("Email required")),this.passwordInputElem&&(this.passwordInputElem.placeholder=window.tr("Password")),this.passwordLabelElem&&(this.passwordLabelElem.textContent=window.tr("Password")),this.passwordHelperElem&&(this.passwordHelperElem.textContent=window.tr("Password required")),this.signInBtnLabel&&(this.signInBtnLabel.textContent=window.tr("Sign In")),this.signUpBtnLabel&&(this.signUpBtnLabel.textContent=window.tr("Sign Up")),this.cancelBtnLabel&&(this.cancelBtnLabel.textContent=window.tr("Cancel")),this.signInBtn?.root?.setAttribute("href",(e===c?"":`/${e}`)+"/sign-in"),this.cancelBtn?.root?.setAttribute("href",(e===c?"":`/${e}`)+"/"),await this.authService?.load?.(e,n,l)}},f=i;p(f,"page",null);export{f as SignUpPage};
