import{a as w,b as E}from"../../chunk-KV2YZDAQ.js";import{d as a}from"../../chunk-GZAYZHUO.js";import{k as o}from"../../chunk-6UXFF2DH.js";import{a as u,b as p,c as d,d as h}from"../../chunk-KU6JJJUR.js";import{c as m}from"../../chunk-2W6XHV3X.js";var l=class{node=null;titleElem=null;emailHelperElem=null;passwordInputElem=null;passwordLabelElem=null;passwordHelperElem=null;signUpBtn=null;signUpBtnLabel=null;signInBtnLabel=null;cancelBtn=null;cancelBtnLabel=null;authService=null;static get instance(){return l.page||(l.page=new l),l.page}get elem(){return this.node}async init(n,i){let s=await p(n,i,[]);if(this.node=s.querySelector('[data-page="signin-page"]')||null,this.node){let L=this.node.querySelectorAll(".main-card__text-field");for(let t of L)t.classList.remove("mdc-text-field--no-label"),new w(t);let e=this.node.querySelector(".main-card form");e?.addEventListener("submit",t=>{t.preventDefault();let b=new FormData(e);console.log("Form submited: ");for(let c of b.entries())console.log(c[0]+":",c[1])}),this.titleElem=this.node.querySelector('[data-title="main"]')||null,this.emailHelperElem=e?.querySelector("#email-helper")||null,this.passwordInputElem=e?.querySelector('[name="password"]')||null,this.passwordLabelElem=e?.querySelector("#password-label")||null,this.passwordHelperElem=e?.querySelector("#password-helper")||null,this.signUpBtn=e?.querySelector('[data-button="sign-up"]')||null,this.signUpBtn&&(new o(this.signUpBtn).listen("click",t=>u(t,this.signUpBtn)),this.signUpBtnLabel=this.signUpBtn.querySelector(".mdc-button__label"));let r=e?.querySelector('[data-button="sign-in"]')||null;r&&(new o(r),this.signInBtnLabel=r.querySelector(".mdc-button__label")),this.cancelBtn=e?.querySelector('[data-button="cancel"]')||null,this.cancelBtn&&(new o(this.cancelBtn).listen("click",t=>u(t,this.cancelBtn)),this.cancelBtnLabel=this.cancelBtn.querySelector(".mdc-button__label"))}return this.authService=new E,await this.authService.init(this,i),s}async mount(){await d(this.node)}async unmount(){await h(this.node)}async load(n,i,s){this.titleElem&&(this.titleElem.textContent=window.tr("Sign In")),this.emailHelperElem&&(this.emailHelperElem.textContent=window.tr("Email required")),this.passwordInputElem&&(this.passwordInputElem.placeholder=window.tr("Password")),this.passwordLabelElem&&(this.passwordLabelElem.textContent=window.tr("Password")),this.passwordHelperElem&&(this.passwordHelperElem.textContent=window.tr("Password required")),this.signUpBtnLabel&&(this.signUpBtnLabel.textContent=window.tr("Sign Up")),this.signInBtnLabel&&(this.signInBtnLabel.textContent=window.tr("Sign In")),this.cancelBtnLabel&&(this.cancelBtnLabel.textContent=window.tr("Cancel")),this.signUpBtn?.setAttribute("href",(n===a?"":n)+"/sign-up"),this.cancelBtn?.setAttribute("href",(n===a?"":n)+"/"),await this.authService?.load?.(n,i,s)}},g=l;m(g,"page",null);export{g as SignInPage};
