import{M as e,S as s}from"./globals-1ab50b00.js";import{B as t}from"./base-layout-d2a90afd.js";import{M as a}from"./app-bar-10d10883.js";import"./ripple-c4942671.js";class l extends t{static layout=null;node=null;appBarElem=null;appBar=null;prevTop=0;scrollHandler;constructor(){super(),this.scrollHandler=this.handleScroll.bind(this)}static get instance(){return l.layout||(l.layout=new l),l.layout}get elem(){return this.node}async init(s,t){let l=s||document.body;return this.node=l.querySelector(`[data-layout="${e}"]`)||null,this.node&&(this.appBarElem=this.node.querySelector(".mdc-top-app-bar"),this.appBarElem&&(this.appBar=new a(this.appBarElem))),l}async mount(){this.appBarElem&&(this.prevTop=window.scrollY,window.addEventListener("scroll",this.scrollHandler),this.appBarElem.classList.remove("hide"))}async unmount(){window.removeEventListener("scroll",this.scrollHandler)}handleScroll(){const e=window.scrollY;this.appBarElem&&(Math.abs(e-this.prevTop)>s&&(this.prevTop>e?this.appBarElem.classList.remove("hide"):this.appBarElem.classList.add("hide")),this.prevTop=e)}}export{l as MainLayout};
