import{l as o,n as t}from"./client-helpers.js";import{b as l,S as e,a as s}from"./scroll.js";import{M as n}from"./ripple.js";import"./base.js";import"./dom.js";class r{static page=null;node=null;scrollTopBtn=null;currScroll=0;static get instance(){return r.page||(r.page=new r),r.page}get elem(){return this.node}async init(e,s){let r=await o(e,s,["main-layout"]);if(this.node=r.querySelector('[data-page="home-page"]')||null,this.node){const o=this.node.querySelectorAll(".mdc-button");for(let l of o){const o=new n(l);l.hasAttribute("href")&&o.listen("click",(l=>t(l,o.root)))}const e=this.node.querySelector(".mdc-fab");e&&(this.scrollTopBtn=new n(e),this.scrollTopBtn.listen("click",(()=>{window.layouts["main-layout"]?.doAction?.(l,null)})))}return r}async mount(){console.log("home-page","mounted")}async unmount(){console.log("home-page","unmounted")}async load(o,t){t&&window.layouts["main-layout"]?.listen?.(e,(o=>{const t=o.detail;t.currScroll<=0?this.scrollTopBtn?.root.classList.add("mdc-fab--exited"):this.scrollTopBtn?.root.classList.remove("mdc-fab--exited"),this.currScroll=t.currScroll})),window.layouts["main-layout"]?.doAction?.(s,{top:this.currScroll,noSmooth:!0})}}export{r as HomePage};
