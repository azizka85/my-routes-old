import{P as n}from"./globals.js";import{R as a}from"./router.js";import{D as t}from"./default-layout.js";import"./base-layout.js";const i={},e={};async function o(n,a){window.page=n;let o=null,s=!1;if(!("home-page"in i)){const n=await import("./home-page.js");o=await n.HomePage.instance.init(o,a),i["home-page"]=n.HomePage.instance,s=!0}const g=await async function(n,a){let t=!1;if(!("main-layout"in e)){const i=await import("./main-layout.js");n=await i.MainLayout.instance.init(n,a),e["main-layout"]=i.MainLayout.instance,t=!0}return t}(o,a);window.page.fragment===n.fragment&&(t.instance.content!==e["main-layout"]&&await t.instance.replaceContent(e["main-layout"]),e["main-layout"].content!==i["home-page"]&&await e["main-layout"].replaceContent(i["home-page"]),await(e["main-layout"]?.load?.(n,g)),await(i["home-page"]?.load?.(n,s)))}function s(){document.querySelector(".splash")?.classList.remove("splash--open")}window.pages=i,window.layouts=e,window.addEventListener("DOMContentLoaded",(()=>{setTimeout((()=>{let e=!0;const g=new a({root:n,routes:[{rule:"",async handler(n){await o(n,e)},options:{}},{rule:"/signin",async handler(n){await async function(n,a){window.page=n;let e=null,o=!1;if(!("signin-page"in i)){const n=await import("./signin-page.js");e=await n.SignInPage.instance.init(e,a),i["signin-page"]=n.SignInPage.instance,o=!0}window.page.fragment===n.fragment&&(t.instance.content!==i["signin-page"]&&await t.instance.replaceContent(i["signin-page"]),await(i["signin-page"]?.load?.(n,o)))}(n,e)},options:{}},{rule:"/signup",async handler(n){await async function(n,a){window.page=n;let e=null,o=!1;if(!("signup-page"in i)){const n=await import("./signup-page.js");e=await n.SignUpPage.instance.init(e,a),i["signup-page"]=n.SignUpPage.instance,o=!0}window.page.fragment===n.fragment&&(t.instance.content!==i["signup-page"]&&await t.instance.replaceContent(i["signup-page"]),await(i["signup-page"]?.load?.(n,o)))}(n,e)},options:{}}]});window.router=g,g.addUriListener(),g.processUri().then((()=>s()),(n=>{console.error(n),s()})),e=!1}),500)}));
