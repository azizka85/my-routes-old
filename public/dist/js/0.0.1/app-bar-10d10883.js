import{_ as t,a as e,M as o,b as i,c as r,d as s}from"./ripple-c4942671.js";var n={FIXED_CLASS:"mdc-top-app-bar--fixed",FIXED_SCROLLED_CLASS:"mdc-top-app-bar--fixed-scrolled",SHORT_CLASS:"mdc-top-app-bar--short",SHORT_COLLAPSED_CLASS:"mdc-top-app-bar--short-collapsed",SHORT_HAS_ACTION_ITEM_CLASS:"mdc-top-app-bar--short-has-action-item"},a={DEBOUNCE_THROTTLE_RESIZE_TIME_MS:100,MAX_TOP_APP_BAR_HEIGHT:128},l={ACTION_ITEM_SELECTOR:".mdc-top-app-bar__action-item",NAVIGATION_EVENT:"MDCTopAppBar:nav",NAVIGATION_ICON_SELECTOR:".mdc-top-app-bar__navigation-icon",ROOT_SELECTOR:".mdc-top-app-bar",TITLE_SELECTOR:".mdc-top-app-bar__title"},p=function(o){function i(t){return o.call(this,e(e({},i.defaultAdapter),t))||this}return t(i,o),Object.defineProperty(i,"strings",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(i,"cssClasses",{get:function(){return n},enumerable:!1,configurable:!0}),Object.defineProperty(i,"numbers",{get:function(){return a},enumerable:!1,configurable:!0}),Object.defineProperty(i,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},getTopAppBarHeight:function(){return 0},notifyNavigationIconClicked:function(){},getViewportScrollY:function(){return 0},getTotalActionItems:function(){return 0}}},enumerable:!1,configurable:!0}),i.prototype.handleTargetScroll=function(){},i.prototype.handleWindowResize=function(){},i.prototype.handleNavigationClick=function(){this.adapter.notifyNavigationIconClicked()},i}(o),c=function(e){function o(t){var o=e.call(this,t)||this;return o.wasDocked=!0,o.isDockedShowing=!0,o.currentAppBarOffsetTop=0,o.isCurrentlyBeingResized=!1,o.resizeThrottleId=0,o.resizeDebounceId=0,o.lastScrollPosition=o.adapter.getViewportScrollY(),o.topAppBarHeight=o.adapter.getTopAppBarHeight(),o}return t(o,e),o.prototype.destroy=function(){e.prototype.destroy.call(this),this.adapter.setStyle("top","")},o.prototype.handleTargetScroll=function(){var t=Math.max(this.adapter.getViewportScrollY(),0),e=t-this.lastScrollPosition;this.lastScrollPosition=t,this.isCurrentlyBeingResized||(this.currentAppBarOffsetTop-=e,this.currentAppBarOffsetTop>0?this.currentAppBarOffsetTop=0:Math.abs(this.currentAppBarOffsetTop)>this.topAppBarHeight&&(this.currentAppBarOffsetTop=-this.topAppBarHeight),this.moveTopAppBar())},o.prototype.handleWindowResize=function(){var t=this;this.resizeThrottleId||(this.resizeThrottleId=setTimeout((function(){t.resizeThrottleId=0,t.throttledResizeHandler()}),a.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)),this.isCurrentlyBeingResized=!0,this.resizeDebounceId&&clearTimeout(this.resizeDebounceId),this.resizeDebounceId=setTimeout((function(){t.handleTargetScroll(),t.isCurrentlyBeingResized=!1,t.resizeDebounceId=0}),a.DEBOUNCE_THROTTLE_RESIZE_TIME_MS)},o.prototype.checkForUpdate=function(){var t=-this.topAppBarHeight,e=this.currentAppBarOffsetTop<0,o=this.currentAppBarOffsetTop>t,i=e&&o;if(i)this.wasDocked=!1;else{if(!this.wasDocked)return this.wasDocked=!0,!0;if(this.isDockedShowing!==o)return this.isDockedShowing=o,!0}return i},o.prototype.moveTopAppBar=function(){if(this.checkForUpdate()){var t=this.currentAppBarOffsetTop;Math.abs(t)>=this.topAppBarHeight&&(t=-a.MAX_TOP_APP_BAR_HEIGHT),this.adapter.setStyle("top",t+"px")}},o.prototype.throttledResizeHandler=function(){var t=this.adapter.getTopAppBarHeight();this.topAppBarHeight!==t&&(this.wasDocked=!1,this.currentAppBarOffsetTop-=this.topAppBarHeight-t,this.topAppBarHeight=t),this.handleTargetScroll()},o}(p),h=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.wasScrolled=!1,t}return t(o,e),o.prototype.handleTargetScroll=function(){this.adapter.getViewportScrollY()<=0?this.wasScrolled&&(this.adapter.removeClass(n.FIXED_SCROLLED_CLASS),this.wasScrolled=!1):this.wasScrolled||(this.adapter.addClass(n.FIXED_SCROLLED_CLASS),this.wasScrolled=!0)},o}(c),d=function(e){function o(t){var o=e.call(this,t)||this;return o.collapsed=!1,o.isAlwaysCollapsed=!1,o}return t(o,e),Object.defineProperty(o.prototype,"isCollapsed",{get:function(){return this.collapsed},enumerable:!1,configurable:!0}),o.prototype.init=function(){e.prototype.init.call(this),this.adapter.getTotalActionItems()>0&&this.adapter.addClass(n.SHORT_HAS_ACTION_ITEM_CLASS),this.setAlwaysCollapsed(this.adapter.hasClass(n.SHORT_COLLAPSED_CLASS))},o.prototype.setAlwaysCollapsed=function(t){this.isAlwaysCollapsed=!!t,this.isAlwaysCollapsed?this.collapse():this.maybeCollapseBar()},o.prototype.getAlwaysCollapsed=function(){return this.isAlwaysCollapsed},o.prototype.handleTargetScroll=function(){this.maybeCollapseBar()},o.prototype.maybeCollapseBar=function(){this.isAlwaysCollapsed||(this.adapter.getViewportScrollY()<=0?this.collapsed&&this.uncollapse():this.collapsed||this.collapse())},o.prototype.uncollapse=function(){this.adapter.removeClass(n.SHORT_COLLAPSED_CLASS),this.collapsed=!1},o.prototype.collapse=function(){this.adapter.addClass(n.SHORT_COLLAPSED_CLASS),this.collapsed=!0},o}(p),u=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return t(o,e),o.attachTo=function(t){return new o(t)},o.prototype.initialize=function(t){void 0===t&&(t=function(t){return s.attachTo(t)}),this.navIcon=this.root.querySelector(l.NAVIGATION_ICON_SELECTOR);var e=[].slice.call(this.root.querySelectorAll(l.ACTION_ITEM_SELECTOR));this.navIcon&&e.push(this.navIcon),this.iconRipples=e.map((function(e){var o=t(e);return o.unbounded=!0,o})),this.scrollTarget=window},o.prototype.initialSyncWithDOM=function(){this.handleNavigationClick=this.foundation.handleNavigationClick.bind(this.foundation),this.handleWindowResize=this.foundation.handleWindowResize.bind(this.foundation),this.handleTargetScroll=this.foundation.handleTargetScroll.bind(this.foundation),this.scrollTarget.addEventListener("scroll",this.handleTargetScroll),this.navIcon&&this.navIcon.addEventListener("click",this.handleNavigationClick);var t=this.root.classList.contains(n.FIXED_CLASS);this.root.classList.contains(n.SHORT_CLASS)||t||window.addEventListener("resize",this.handleWindowResize)},o.prototype.destroy=function(){var t,o;try{for(var r=i(this.iconRipples),s=r.next();!s.done;s=r.next()){s.value.destroy()}}catch(e){t={error:e}}finally{try{s&&!s.done&&(o=r.return)&&o.call(r)}finally{if(t)throw t.error}}this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll),this.navIcon&&this.navIcon.removeEventListener("click",this.handleNavigationClick);var a=this.root.classList.contains(n.FIXED_CLASS);this.root.classList.contains(n.SHORT_CLASS)||a||window.removeEventListener("resize",this.handleWindowResize),e.prototype.destroy.call(this)},o.prototype.setScrollTarget=function(t){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll),this.scrollTarget=t,this.handleTargetScroll=this.foundation.handleTargetScroll.bind(this.foundation),this.scrollTarget.addEventListener("scroll",this.handleTargetScroll)},o.prototype.getDefaultFoundation=function(){var t=this,e={hasClass:function(e){return t.root.classList.contains(e)},addClass:function(e){return t.root.classList.add(e)},removeClass:function(e){return t.root.classList.remove(e)},setStyle:function(e,o){return t.root.style.setProperty(e,o)},getTopAppBarHeight:function(){return t.root.clientHeight},notifyNavigationIconClicked:function(){return t.emit(l.NAVIGATION_EVENT,{})},getViewportScrollY:function(){var e=t.scrollTarget,o=t.scrollTarget;return void 0!==e.pageYOffset?e.pageYOffset:o.scrollTop},getTotalActionItems:function(){return t.root.querySelectorAll(l.ACTION_ITEM_SELECTOR).length}};return this.root.classList.contains(n.SHORT_CLASS)?new d(e):this.root.classList.contains(n.FIXED_CLASS)?new h(e):new c(e)},o}(r);export{u as M};
